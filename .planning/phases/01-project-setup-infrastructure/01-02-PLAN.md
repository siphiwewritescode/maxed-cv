---
phase: 01-project-setup-infrastructure
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/package.json
  - frontend/tsconfig.json
  - frontend/next.config.js
  - frontend/app/layout.tsx
  - frontend/app/page.tsx
  - frontend/app/globals.css
  - frontend/lib/api.ts
  - frontend/lib/env.ts
  - frontend/public/favicon.ico
autonomous: true

must_haves:
  truths:
    - "Next.js frontend compiles and builds without errors"
    - "Landing page renders with Maxed-CV branding and SEO metadata"
    - "API client module exists for backend communication"
    - "Environment variables are validated for frontend config"
  artifacts:
    - path: "frontend/app/layout.tsx"
      provides: "Root layout with SEO metadata (title, description, OG tags)"
      contains: "metadata"
    - path: "frontend/app/page.tsx"
      provides: "Landing page with Maxed-CV content"
      contains: "Maxed-CV"
    - path: "frontend/lib/api.ts"
      provides: "Type-safe API client for backend communication"
      contains: "ApiClient"
    - path: "frontend/lib/env.ts"
      provides: "Environment variable validation using Zod"
      contains: "NEXT_PUBLIC_API_URL"
    - path: "frontend/next.config.js"
      provides: "Next.js configuration with standalone output"
      contains: "nextConfig"
  key_links:
    - from: "frontend/lib/api.ts"
      to: "frontend/lib/env.ts"
      via: "imports validated env for API base URL"
      pattern: "NEXT_PUBLIC_API_URL"
    - from: "frontend/app/layout.tsx"
      to: "frontend/app/globals.css"
      via: "CSS import in root layout"
      pattern: "globals.css"
---

<objective>
Scaffold the Next.js 14+ frontend with App Router, SEO metadata, landing page, and API client.

Purpose: Establish the frontend foundation with proper SEO setup (critical for platform discoverability) and a typed API client that all future phases will use to communicate with the backend.
Output: A buildable Next.js project in frontend/ with root layout, landing page, API client, and environment validation.
</objective>

<execution_context>
@C:\Users\pc\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\pc\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-project-setup-infrastructure/01-CONTEXT.md
@.planning/phases/01-project-setup-infrastructure/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js project with App Router</name>
  <files>
    frontend/package.json
    frontend/tsconfig.json
    frontend/next.config.js
    frontend/app/globals.css
    frontend/public/favicon.ico
  </files>
  <action>
    Create the frontend/ directory and initialize a Next.js 14 project. Use `npx create-next-app@14 frontend --typescript --app --no-src-dir --no-tailwind --no-eslint --import-alias "@/*"` from the project root. This scaffolds the base project.

    If create-next-app prompts interactively, use the non-interactive flags above. If it still prompts, create the project manually:

    1. Create frontend/package.json with:
       - next (^14.2.0), react (^18.0.0), react-dom (^18.0.0)
       - Dev: typescript, @types/react, @types/react-dom, @types/node
       - zod (^3.22.0) for env validation
       - Scripts: dev (next dev), build (next build), start (next start), lint (next lint)

    2. Create frontend/tsconfig.json:
       - target: es5, lib: [dom, dom.iterable, esnext]
       - strict: true, jsx: preserve, module: esnext, moduleResolution: bundler
       - paths: {"@/*": ["./*"]}
       - include: ["next-env.d.ts", "**/*.ts", "**/*.tsx"]

    3. Create frontend/next.config.js:
       - output: 'standalone' (for Docker production builds)
       - Enable React strict mode
       - Configure rewrites or proxy if needed for API calls (not needed if CORS is handled by backend)

    4. Create frontend/app/globals.css with minimal base styles:
       - CSS reset (box-sizing, margin, padding)
       - System font stack
       - Basic color scheme (dark text on light background)
       - Do NOT add Tailwind or any UI framework (deferred per user decisions, UI library not decided yet)
       - Keep it minimal -- just enough for a presentable landing page

    5. Create or keep frontend/public/favicon.ico (use the default Next.js one or a simple placeholder)

    Run `cd frontend && npm install` to install all dependencies.
  </action>
  <verify>
    From frontend directory:
    - `npm ls next` shows next@14.x installed
    - `npm ls react` shows react@18.x installed
    - `npx next build` completes without errors (may show warnings, that's ok)
    - tsconfig.json exists with strict: true
  </verify>
  <done>
    frontend/ directory exists with Next.js 14, TypeScript configured with strict mode, App Router structure (app/ directory), and all dependencies installed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create landing page, SEO metadata, and API client</name>
  <files>
    frontend/app/layout.tsx
    frontend/app/page.tsx
    frontend/lib/api.ts
    frontend/lib/env.ts
  </files>
  <action>
    Create the core frontend files for SEO, landing page, and backend communication.

    1. Create frontend/lib/env.ts:
       - Define Zod schema for frontend environment: NEXT_PUBLIC_API_URL (string URL, default http://localhost:3001)
       - Export validated env object
       - Handle both server-side and client-side access (NEXT_PUBLIC_ prefix makes it available in browser)

    2. Create frontend/lib/api.ts:
       - Import the validated API URL from env.ts
       - Create ApiClient class with methods:
         - get<T>(path: string): Promise<T> -- GET request with JSON parsing
         - post<T>(path: string, data: unknown): Promise<T> -- POST with JSON body
         - put<T>(path: string, data: unknown): Promise<T> -- PUT with JSON body
         - delete<T>(path: string): Promise<T> -- DELETE request
       - Include error handling: check response.ok, throw with status code and message
       - Export singleton: `export const api = new ApiClient()`
       - Add health check convenience method: `checkHealth(): Promise<{status: string}>`

    3. Create frontend/app/layout.tsx (Root Layout -- Server Component):
       - Import globals.css
       - Export metadata object (Metadata type from next):
         - title: { template: '%s | Maxed-CV', default: 'Maxed-CV - AI-Powered CV Tailoring for South Africa' }
         - description: 'Tailor your CV to any job description in seconds. AI-powered CV optimization for South African professionals. Beat ATS filters and land more interviews.'
         - keywords: ['CV', 'resume', 'South Africa', 'ATS', 'job application', 'AI', 'CV tailoring']
         - openGraph: title, description, type: 'website', locale: 'en_ZA'
         - robots: { index: true, follow: true }
       - Render html (lang="en") > body > {children}
       - Add a simple skip-to-content link for accessibility

    4. Create frontend/app/page.tsx (Landing Page -- Server Component):
       - Hero section: "Maxed-CV" heading, tagline about AI-powered CV tailoring for SA job market
       - Value proposition: 3 key benefits (paste job URL, AI tailors CV, download ATS-optimized PDF)
       - Call to action placeholder (will become "Get Started" button linking to auth in Phase 2)
       - Use semantic HTML (main, section, h1, h2, p)
       - Style inline or via CSS modules (no Tailwind -- UI library not chosen yet)
       - Keep it clean and professional -- this is the page Google will index
       - Include SA-specific messaging: "Built for the South African job market"
  </action>
  <verify>
    From frontend directory:
    - `npx next build` succeeds without errors
    - Verify frontend/app/layout.tsx contains metadata export with 'Maxed-CV' in title
    - Verify frontend/app/page.tsx contains 'Maxed-CV' heading text
    - Verify frontend/lib/api.ts exports ApiClient class with get/post methods
    - Verify frontend/lib/env.ts contains NEXT_PUBLIC_API_URL validation
  </verify>
  <done>
    Root layout exports comprehensive SEO metadata (title template, description, OG tags, locale en_ZA). Landing page renders hero section with SA-focused messaging. API client is ready for backend communication with typed get/post/put/delete methods. Environment validation covers NEXT_PUBLIC_API_URL.
  </done>
</task>

</tasks>

<verification>
1. `cd frontend && npx next build` -- Build succeeds
2. frontend/app/layout.tsx has metadata with title containing 'Maxed-CV' and locale 'en_ZA'
3. frontend/app/page.tsx has semantic HTML with h1 heading
4. frontend/lib/api.ts exports ApiClient with health check method
5. frontend/lib/env.ts validates NEXT_PUBLIC_API_URL
</verification>

<success_criteria>
- Next.js project builds without errors using App Router
- Root layout has comprehensive SEO metadata (title, description, OG, robots)
- Landing page renders with SA-focused CV tailoring messaging
- API client is typed and ready for backend communication
- Environment variables are validated via Zod
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup-infrastructure/01-02-SUMMARY.md`
</output>
